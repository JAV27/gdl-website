<script>
    const animateCSS = (element, animation, prefix = 'animate__') =>
    // We create a Promise and return it
    new Promise((resolve, reject) => {
        const animationName = `${prefix}${animation}`;
        const node = document.querySelector(element);

        node.classList.add(`${prefix}animated`, animationName);
    });

    const checkIfInView = (el, anim, offset, delay) => {

        if(el.length > 0) {
            var top_of_element = el.offset().top;
            var bottom_of_element = el.offset().top + el.outerHeight();
            var bottom_of_screen = $(window).scrollTop() + $(window).innerHeight();
            var top_of_screen = $(window).scrollTop();

            if ((bottom_of_screen > top_of_element + offset) && (top_of_screen < bottom_of_element)){
                el.addClass('animate__animated').css('animation-delay', delay.toString()).addClass('animate__' + anim).css('opacity', '1')
            }
        }

    }   
    
    $(document).ready(function(){
        $('.sidenav').sidenav();
        $(".dropdown-trigger").dropdown();    
        $('.carousel.carousel-slider').carousel({
            indicators: true,
            fullWidth: true
        });
        $('.scrollspy').scrollSpy();


        $('.readMore').on('click', function() {
            $(this).parent().parent().children('.moreContent').slideDown();
            $(this).hide();
            $(this).siblings('.readLess').show();
        });

        $('.readLess').on('click', function() {
            $(this).parent().parent().children('.moreContent').slideUp();
            $(this).hide();
            $(this).siblings('.readMore').show();
        });

        $(window).scroll(function() {

            checkIfInView($('.whatWeDo .card'), 'bounceInRight', 300, '0')
            checkIfInView($('.ourProgram .program:lt(3)'), 'slideInRight', 300, '0')
            checkIfInView($('.ourProgram .program').slice(3,6), 'slideInLeft', 300, '0')

        })

    });

</script>